(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chanpin-view-search"],{"15ae":function(e,t,i){"use strict";i("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i("64aa");var a={name:"u-image",props:{src:{type:String,default:""},mode:{type:String,default:"aspectFill"},width:{type:[String,Number],default:"100%"},height:{type:[String,Number],default:"auto"},shape:{type:String,default:"square"},borderRadius:{type:[String,Number],default:0},lazyLoad:{type:Boolean,default:!0},showMenuByLongpress:{type:Boolean,default:!0},loadingIcon:{type:String,default:"photo"},errorIcon:{type:String,default:"error-circle"},showLoading:{type:Boolean,default:!0},showError:{type:Boolean,default:!0},fade:{type:Boolean,default:!0},webp:{type:Boolean,default:!1},duration:{type:[String,Number],default:500},bgColor:{type:String,default:"#f3f4f6"}},data:function(){return{isError:!1,loading:!0,opacity:1,durationTime:this.duration,backgroundStyle:{}}},watch:{src:{immediate:!0,handler:function(e){e?this.isError=!1:(this.isError=!0,this.loading=!1)}}},computed:{wrapStyle:function(){var e={};return e.width=this.$u.addUnit(this.width),e.height=this.$u.addUnit(this.height),e.borderRadius="circle"==this.shape?"50%":this.$u.addUnit(this.borderRadius),e.overflow=this.borderRadius>0?"hidden":"visible",this.fade&&(e.opacity=this.opacity,e.transition="opacity ".concat(Number(this.durationTime)/1e3,"s ease-in-out")),e}},methods:{onClick:function(){this.$emit("click")},onErrorHandler:function(e){this.loading=!1,this.isError=!0,this.$emit("error",e)},onLoadHandler:function(){var e=this;if(this.loading=!1,this.isError=!1,this.$emit("load"),!this.fade)return this.removeBgColor();this.opacity=0,this.durationTime=0,setTimeout((function(){e.durationTime=e.duration,e.opacity=1,setTimeout((function(){e.removeBgColor()}),e.durationTime)}),50)},removeBgColor:function(){this.backgroundStyle={backgroundColor:"transparent"}}}};t.default=a},"20a4":function(e,t,i){"use strict";i.r(t);var a=i("15ae"),r=i.n(a);for(var n in a)["default"].indexOf(n)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(n);t["default"]=r.a},"41b7":function(e,t,i){"use strict";i.d(t,"b",(function(){return r})),i.d(t,"c",(function(){return n})),i.d(t,"a",(function(){return a}));var a={uIcon:i("97c4").default},r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"u-image",style:[e.wrapStyle,e.backgroundStyle],on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.onClick.apply(void 0,arguments)}}},[e.isError?e._e():i("v-uni-image",{staticClass:"u-image__image",style:{borderRadius:"circle"==e.shape?"50%":e.$u.addUnit(e.borderRadius)},attrs:{src:e.src,mode:e.mode,"lazy-load":e.lazyLoad},on:{error:function(t){arguments[0]=t=e.$handleEvent(t),e.onErrorHandler.apply(void 0,arguments)},load:function(t){arguments[0]=t=e.$handleEvent(t),e.onLoadHandler.apply(void 0,arguments)}}}),e.showLoading&&e.loading?i("v-uni-view",{staticClass:"u-image__loading",style:{borderRadius:"circle"==e.shape?"50%":e.$u.addUnit(e.borderRadius),backgroundColor:this.bgColor}},[e.$slots.loading?e._t("loading"):i("u-icon",{attrs:{name:e.loadingIcon,width:e.width,height:e.height}})],2):e._e(),e.showError&&e.isError&&!e.loading?i("v-uni-view",{staticClass:"u-image__error",style:{borderRadius:"circle"==e.shape?"50%":e.$u.addUnit(e.borderRadius)}},[e.$slots.error?e._t("error"):i("u-icon",{attrs:{name:e.errorIcon,width:e.width,height:e.height}})],2):e._e()],1)},n=[]},4441:function(e,t,i){"use strict";i.r(t);var a=i("41b7"),r=i("20a4");for(var n in r)["default"].indexOf(n)<0&&function(e){i.d(t,e,(function(){return r[e]}))}(n);i("fb6b8");var o=i("828b"),s=Object(o["a"])(r["default"],a["b"],a["c"],!1,null,"33adde74",null,!1,a["a"],void 0);t["default"]=s.exports},"46f9":function(e,t,i){"use strict";i.r(t);var a=i("6a6a"),r=i.n(a);for(var n in a)["default"].indexOf(n)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(n);t["default"]=r.a},"6a6a":function(e,t,i){"use strict";i("6a54");var a=i("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i("c223");var r=a(i("ee22")),n=a(i("e0c5")),o=a(i("12ec")),s=a(i("d681")),d=i("d2ab"),u="",l={components:{searchView:s.default,dataNull:r.default,getMore:o.default,addBtn:n.default},data:function(){return{pageIndex:1,searchValue:"",list:[],scrollHeight:"667px",triggered:!1,isMore:!0,sortObj:{update_date:-1}}},onLoad:function(e){u=this,uni.getSystemInfo({success:function(e){u.scrollHeight=e.windowHeight-40+"px"}})},methods:{getChanPinFun:function(){if(u.isMore){uni.showLoading({title:"加载中...",mask:!0});var e={matchObj:{isSxJ:!0},pageIndex:u.pageIndex,searchValue:u.searchValue,sortObj:u.sortObj},t={action:"getCpList",params:e};(0,d.crmChanpinApi)(t).then((function(e){var t=e.result.data;1==u.pageIndex&&(u.list=[]),20==t.length?(u.pageIndex+=1,u.isMore=!0):u.isMore=!1,u.triggered=!1,u.list=u.list.concat(t)}))}},cardClick:function(e){uni.$cpDetail=e,uni.navigateTo({url:"./cpDetail?type=client"})},searchEventsFun:function(e){u.searchValue=e,u.isMore=!0,u.pageIndex=1,u.getChanPinFun()},onRefresh:function(){u.triggered||(u.triggered=!0,u.pageIndex=1,u.isMore=!0,u.getChanPinFun())},onRestore:function(e){u.triggered=!1}}};t.default=l},9137:function(e,t,i){var a=i("cf83");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var r=i("967d").default;r("557eb8f5",a,!0,{sourceMap:!1,shadowMode:!1})},c3c3:function(e,t,i){var a=i("c86c");t=a(!1),t.push([e.i,"uni-page-body[data-v-3a97a814]{background-color:#f8f8f8}body.?%PAGE?%[data-v-3a97a814]{background-color:#f8f8f8}.rowBtn[data-v-3a97a814]{display:flex;align-items:center;flex-wrap:wrap;margin:%?26?% %?16?% %?16?% 0;justify-content:flex-end}.cpBtn[data-v-3a97a814]{margin:0 0 0 %?26?%;font-size:15px!important;height:%?60?%!important;line-height:%?60?%!important}.gdCz[data-v-3a97a814]{width:%?60?%;height:%?60?%;padding:%?6?% %?12?%}.myCard2[data-v-3a97a814]{width:%?698?%;padding:%?26?%;margin:%?32?% %?26?%;box-sizing:border-box;border-radius:%?16?%;box-shadow:#d8d8d8 0 0 %?16?%;position:relative;background-color:#fff;display:flex}.cardTopName1[data-v-3a97a814]{font-size:16px;margin-bottom:%?8?%;color:#000;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;font-weight:700;padding-bottom:%?8?%}.cardRow1[data-v-3a97a814]{display:flex;align-items:center;font-size:16px;margin-bottom:%?8?%}.cardRow1>uni-view[data-v-3a97a814]:first-child{width:%?176?%;color:#adadad}.cardRow1>uni-view[data-v-3a97a814]:last-child{color:#000}.leftImg[data-v-3a97a814]{width:%?160?%;height:%?160?%;margin-right:%?26?%;border-radius:%?26?%;overflow:hidden;border:%?1?% solid #ddd}.rightView[data-v-3a97a814]{width:%?480?%}.xlKcClass[data-v-3a97a814]{font-size:14px;color:#888;margin-bottom:%?8?%}.xlKcClass>uni-text[data-v-3a97a814]{margin-right:%?26?%}",""]),e.exports=t},cdc8:function(e,t,i){"use strict";i.r(t);var a=i("e203"),r=i("46f9");for(var n in r)["default"].indexOf(n)<0&&function(e){i.d(t,e,(function(){return r[e]}))}(n);i("e709");var o=i("828b"),s=Object(o["a"])(r["default"],a["b"],a["c"],!1,null,"3a97a814",null,!1,a["a"],void 0);t["default"]=s.exports},cf83:function(e,t,i){var a=i("c86c");t=a(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 郑志平\r\n * 2021-12-06\r\n */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.u-image[data-v-33adde74]{position:relative;transition:opacity .5s ease-in-out}.u-image__image[data-v-33adde74]{width:100%;height:100%}.u-image__loading[data-v-33adde74], .u-image__error[data-v-33adde74]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;flex-direction:row;align-items:center;justify-content:center;background-color:#f3f4f6;color:#909399;font-size:%?46?%}',""]),e.exports=t},deb7:function(e,t,i){var a=i("c3c3");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var r=i("967d").default;r("08a65112",a,!0,{sourceMap:!1,shadowMode:!1})},e203:function(e,t,i){"use strict";i.d(t,"b",(function(){return r})),i.d(t,"c",(function(){return n})),i.d(t,"a",(function(){return a}));var a={searchView:i("d681").default,dataNull:i("ee22").default,uImage:i("4441").default,getMore:i("12ec").default},r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",[i("searchView",{attrs:{placeholderStr:"请输入产品名称"},on:{searchViewClickFun:function(t){arguments[0]=t=e.$handleEvent(t),e.searchEventsFun(t)}}}),0==e.list.length?i("dataNull",{attrs:{src:"/static/img/chahua/dataNullXz.png",title:"暂无相关产品",title1:"请更换查询条件"}}):i("v-uni-scroll-view",{style:{height:e.scrollHeight},attrs:{"scroll-y":"true","refresher-enabled":!0,"refresher-threshold":200,"refresher-triggered":e.triggered,"refresher-background":"gray"},on:{scrolltolower:function(t){arguments[0]=t=e.$handleEvent(t),e.getChanPinFun.apply(void 0,arguments)},refresherrefresh:function(t){arguments[0]=t=e.$handleEvent(t),e.onRefresh.apply(void 0,arguments)},refresherrestore:function(t){arguments[0]=t=e.$handleEvent(t),e.onRestore.apply(void 0,arguments)}}},[e._l(e.list,(function(t,a){return i("v-uni-view",{key:a,on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.cardClick(t)}}},[t.cpFmtList&&t.cpFmtList.length>0?i("v-uni-view",{staticClass:"myCard2"},[i("v-uni-view",{staticClass:"leftImg"},[i("u-image",{attrs:{height:"160",width:"160","border-radius":"26",src:t.cpFmtList[0].url}})],1),i("v-uni-view",{staticClass:"rightView"},[i("v-uni-view",{staticClass:"cardTopName1"},[e._v(e._s(t.pName))]),t.salesNum||t.stock?i("v-uni-view",{staticClass:"xlKcClass"},[t.salesNum?i("v-uni-text",[e._v("销量: "+e._s(t.salesNum))]):e._e(),t.stock?i("v-uni-text",[e._v("库存: "+e._s(t.stock))]):e._e()],1):e._e(),i("v-uni-view",{staticClass:"cardRow1"},[i("v-uni-text",{staticClass:"redColor"},[e._v("￥"+e._s(t.price))]),e._v("/"+e._s(t.unit))],1)],1)],1):i("v-uni-view",{staticClass:"myCard"},[i("v-uni-view",{staticClass:"cardTopName"},[e._v("产品名称："+e._s(t.pName))]),i("v-uni-view",{staticClass:"cardRow"},[i("v-uni-view",[e._v("产品状态：")]),i("v-uni-view",[e._v(e._s(t.isSxJ))])],1),i("v-uni-view",{staticClass:"cardRow"},[i("v-uni-view",[e._v("产品价格：")]),i("v-uni-view",[i("v-uni-text",{staticClass:"redColor"},[e._v("￥"+e._s(t.price))]),e._v("/"+e._s(t.unit))],1)],1),i("v-uni-view",{staticClass:"cardRow"},[i("v-uni-view",[e._v("产品类型：")]),i("v-uni-view",[e._v(e._s(t.cpClassify))])],1),t.salesNum?i("v-uni-view",{staticClass:"cardRow"},[i("v-uni-view",[e._v("产品销量：")]),i("v-uni-view",[e._v(e._s(t.salesNum))])],1):e._e(),t.stock?i("v-uni-view",{staticClass:"cardRow"},[i("v-uni-view",[e._v("产品库存：")]),i("v-uni-view",[e._v(e._s(t.stock))])],1):e._e(),t.describe?i("v-uni-view",{staticClass:"cardRow"},[i("v-uni-view",[e._v("产品简述：")]),i("v-uni-view",[e._v(e._s(t.describe))])],1):e._e()],1)],1)})),i("getMore",{staticClass:"h100",attrs:{isMore:e.isMore}})],2)],1)},n=[]},e709:function(e,t,i){"use strict";var a=i("deb7"),r=i.n(a);r.a},fb6b8:function(e,t,i){"use strict";var a=i("9137"),r=i.n(a);r.a}}]);