(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-crm-thread-addThread"],{"0311":function(e,t,a){var i=a("c86c");t=i(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 郑志平\r\n * 2021-12-06\r\n */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.u-rate[data-v-671bcb72]{display:-webkit-inline-flex;display:inline-flex;align-items:center;margin:0;padding:0}.u-icon[data-v-671bcb72]{box-sizing:border-box}',""]),e.exports=t},"0530":function(e,t,a){"use strict";a.r(t);var i=a("303b"),n=a.n(i);for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);t["default"]=n.a},1851:function(e,t,a){"use strict";var i=a("8bdb"),n=a("84d6"),l=a("1cb5");i({target:"Array",proto:!0},{fill:n}),l("fill")},"190e":function(e,t,a){var i=a("fb2f");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("967d").default;n("00e79204",i,!0,{sourceMap:!1,shadowMode:!1})},"1ea5":function(e,t,a){"use strict";a.r(t);var i=a("b0c3"),n=a("0530");for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);a("7e7b");var u=a("828b"),s=Object(u["a"])(n["default"],i["b"],i["c"],!1,null,"671bcb72",null,!1,i["a"],void 0);t["default"]=s.exports},2711:function(e,t,a){"use strict";a.r(t);var i=a("47b7"),n=a("cf8c");for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);a("a20bd");var u=a("828b"),s=Object(u["a"])(n["default"],i["b"],i["c"],!1,null,"1c921836",null,!1,i["a"],void 0);t["default"]=s.exports},"303b":function(e,t,a){"use strict";a("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("64aa"),a("e966");var i={name:"u-rate",props:{value:{type:[Number,String],default:-1},count:{type:[Number,String],default:5},current:{type:[Number,String],default:0},disabled:{type:Boolean,default:!1},size:{type:[Number,String],default:32},inactiveColor:{type:String,default:"#b2b2b2"},activeColor:{type:String,default:"#FA3534"},gutter:{type:[Number,String],default:10},minCount:{type:[Number,String],default:0},allowHalf:{type:Boolean,default:!1},activeIcon:{type:String,default:"star-fill"},inactiveIcon:{type:String,default:"star"},customPrefix:{type:String,default:"uicon"},colors:{type:Array,default:function(){return[]}},icons:{type:Array,default:function(){return[]}}},data:function(){return{elId:this.$u.guid(),elClass:this.$u.guid(),starBoxLeft:0,activeIndex:-1!=this.value?this.value:this.current,starWidth:0,starWidthArr:[]}},watch:{current:function(e){this.activeIndex=e},value:function(e){this.activeIndex=e}},computed:{decimal:function(){return this.disabled?100*this.activeIndex%100:this.allowHalf?50:void 0},elActiveIcon:function(){var e=this.icons.length;if(e&&e<=this.count){var t=Math.round(this.activeIndex/Math.round(this.count/e));return t<1?this.icons[0]:t>e?this.icons[e-1]:this.icons[t-1]}return this.activeIcon},elActiveColor:function(){var e=this.colors.length;if(e&&e<=this.count){var t=Math.round(this.activeIndex/Math.round(this.count/e));return t<1?this.colors[0]:t>e?this.colors[e-1]:this.colors[t-1]}return this.activeColor}},methods:{getElRectById:function(){var e=this;this.$u.getRect("#"+this.elId).then((function(t){e.starBoxLeft=t.left}))},getElRectByClass:function(){var e=this;this.$u.getRect("."+this.elClass).then((function(t){e.starWidth=t.width;for(var a=0;a<e.count;a++)e.starWidthArr[a]=(a+1)*e.starWidth}))},touchMove:function(e){if(!this.disabled&&e.changedTouches[0]){var t=e.changedTouches[0].pageX,a=t-this.starBoxLeft;a<=0&&(this.activeIndex=0);var i=Math.ceil(a/this.starWidth);this.activeIndex=i>this.count?this.count:i,this.activeIndex<this.minCount&&(this.activeIndex=this.minCount),this.emitEvent()}},click:function(e,t){this.disabled||(this.allowHalf,1==e?1==this.activeIndex?this.activeIndex=0:this.activeIndex=1:this.activeIndex=e,this.activeIndex<this.minCount&&(this.activeIndex=this.minCount),this.emitEvent())},emitEvent:function(){this.$emit("change",this.activeIndex),-1!=this.value&&this.$emit("input",this.activeIndex)},showDecimalIcon:function(e){return this.disabled&&parseInt(this.activeIndex)===e}},mounted:function(){this.getElRectById(),this.getElRectByClass()}};t.default=i},4503:function(e,t,a){"use strict";a("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("aa9c"),a("dc69");var i=a("429e"),n="",l={data:function(){return{background:{"background-image":"linear-gradient(45deg, #007aff, rgb(12, 168, 234))"},xsName:"",clientName:"",phone:"",company:"",position:"",weChat:"",mailbox:"",radioList:[{name:"男"},{name:"女"}],gender:"男",birthday:"",region:"",remark:"",pickerParams:{},pickerShow:!1,pickerMode:"time",selectShow:!1,selectList:[],selectType:"",province:"",city:"",area:"",address:"",latitude:"",longitude:"",companyState:"潜在客户",jieDuan:"初步接洽",fuZeRenId:uni.$userInfo._id,fuZeRen:uni.$userInfo.nickname,lxRen:"",type:"",xingZhi:"企业客户",fenJi:"",hangYe:"",zycdNum:0,laiYuan:"公司资源",guanWang:"",jianJie:"",pageType:"",xgInfoObj:{},isAdd:0,fkId:""}},onLoad:function(e){if(n=this,"update"==e.type&&(n.setDataFun(),n.pageType="update",uni.setNavigationBarTitle({title:"修改线索信息"})),e.isAdd&&(n.isAdd=e.isAdd,uni.$addInfo)){if(n.lxRen=uni.$addInfo.lxRen,n.phone=uni.$addInfo.phone,n.clientName=uni.$addInfo.clientName,n.region=uni.$addInfo.region||"",n.address=uni.$addInfo.address||"",n.latitude=uni.$addInfo.latitude||"",n.longitude=uni.$addInfo.longitude||"",n.region){var t=n.region.split(" ");n.province=t[0],n.city=t[1],n.area=t[2]}uni.$addInfo.fkId&&(n.fkId=uni.$addInfo.fkId)}},methods:{radioGroupChange:function(e){n.gender=e},pickerSelectFun:function(e){"客户状态"==e?n.selectList=[{value:0,label:"潜在客户"},{value:1,label:"初步接触"},{value:2,label:"持续跟进"},{value:3,label:"成交客户"},{value:4,label:"忠诚客户"},{value:5,label:"无效客户"}]:"客户阶段"==e?n.selectList=[{value:0,label:"初步接洽"},{value:1,label:"确认需求"},{value:2,label:"解决方案"},{value:3,label:"商务谈判"},{value:4,label:"成交"},{value:5,label:"流失"}]:"客户类型"==e?n.selectList=[{value:0,label:"最终客户"},{value:1,label:"渠道客户"},{value:2,label:"竞争对手"}]:"客户性质"==e?n.selectList=[{value:0,label:"企业客户"},{value:1,label:"个人客户"},{value:2,label:"政府单位"},{value:3,label:"事业单位"}]:"客户分级"==e?n.selectList=[{value:0,label:"大型"},{value:1,label:"中型"},{value:2,label:"小型"},{value:3,label:"微型"}]:"客户行业"==e?n.selectList=[{value:0,label:"金融"},{value:1,label:"电信"},{value:2,label:"教育"},{value:3,label:"高科技"},{value:4,label:"政府"},{value:5,label:"制造业"},{value:6,label:"服务业"},{value:7,label:"能源"},{value:8,label:"零售"},{value:9,label:"媒体"},{value:10,label:"娱乐"},{value:11,label:"咨询"},{value:12,label:"非盈利事业"},{value:13,label:"公用事业"},{value:14,label:"其他"}]:"客户来源"==e&&(n.selectList=[{value:0,label:"电话咨询"},{value:1,label:"自主开拓"},{value:2,label:"公司资源"},{value:3,label:"网络推广"},{value:4,label:"渠道代理"},{value:5,label:"其他方式"}]),n.selectShow=!0,n.selectType=e},selectConfirmFun:function(e){var t=e[0].label;"客户状态"==n.selectType?n.companyState=t:"客户阶段"==n.selectType?n.jieDuan=t:"客户类型"==n.selectType?n.type=t:"客户性质"==n.selectType?n.xingZhi=t:"客户分级"==n.selectType?n.fenJi=t:"客户行业"==n.selectType?n.hangYe=t:"客户来源"==n.selectType&&(n.laiYuan=t)},pickerShowFun:function(e){"生日"==e?(n.pickerMode="time",n.pickerParams={year:!0,month:!0,day:!0}):"地区"==e?(n.pickerMode="region",n.pickerParams={province:!0,city:!0,area:!0}):"客户阶段"==e&&(n.pickerMode="selector"),n.pickerShow=!0},pickerConfirmFun:function(e){"time"==n.pickerMode?n.birthday=e.year+"-"+e.month+"-"+e.day:(n.province=e.province.label,n.city=e.city.label,n.area=e.area.label,n.region=n.province+" "+n.city+" "+n.area)},chooseAddrFun:function(){uni.chooseLocation({success:function(e){n.address=e.address,n.latitude=e.latitude,n.longitude=e.longitude}})},submitBtn:function(){if(""!=n.clientName)if("个人客户"==n.xingZhi||""!=n.lxRen)if(""!=n.phone){var e={req:{clientName:n.clientName,phone:n.phone,region:n.region,address:n.address,latitude:n.latitude,longitude:n.longitude,jieDuan:n.jieDuan,lxRen:n.lxRen,type:n.type,xingZhi:n.xingZhi,fenJi:n.fenJi,hangYe:n.hangYe,zycdNum:n.zycdNum,laiYuan:n.laiYuan,guanWang:n.guanWang,jianJie:n.jianJie,remark:n.remark}},t="addThread";"update"==n.pageType?(t="update",e._id=n.xgInfoObj._id,e.req.update_date=(new Date).getTime(),uni.showLoading({title:"修改中..."})):(e.req.create_date=(new Date).getTime(),e.req.update_date=(new Date).getTime(),e.req.cjRenId=uni.$userInfo._id,e.req.fuZeRenId=uni.$userInfo._id,e.req.isDelete=0,e.req.status=1,n.fkId&&(e.req.fkId=n.fkId),uni.showLoading({title:"提交中..."}));var a={action:t,params:e};(0,i.threadApi)(a).then((function(a){if("update"==t)uni.showToast({title:"线索修改成功",icon:"none",duration:888,mask:!0}),n.addCzjlFun("update"),setTimeout((function(){uni.navigateBack()}),888);else{uni.showToast({title:"线索新增成功",icon:"none",duration:888,mask:!0});var i=e.req;i._id=a.result.id,n.isAdd&&uni.$emit("addItemInListFun",i),setTimeout((function(){uni.$khInfo=i,uni.redirectTo({url:"./threadDetail?index=0"})}),888)}}))}else uni.showModal({title:"提示",content:"客户联系方式不能为空，请输入！",showCancel:!1});else uni.showModal({title:"提示",content:"客户联系人不能为空，请输入！",showCancel:!1});else uni.showModal({title:"提示",content:"客户名称不能为空，请输入！",showCancel:!1})},addCzjlFun:function(e,t){var a={create_date:(new Date).getTime(),czRen:uni.$userInfo._id,pageType:"thread"};if("update"==e){var i=n.xgInfoObj;a.dataId=i._id,a.type="编辑",a.newUpdate=(new Date).getTime(),a.oldUpdate=i.update_date;var l=[],u="";n.remark!=i.remark&&(u='修改 备注 ，由 "'+i.remark+'" 变更为 "'+n.remark+'"',l.push(u)),n.jianJie!=i.jianJie&&(u='修改 客户简介 ，由 "'+i.jianJie+'" 变更为 "'+n.jianJie+'"',l.push(u)),n.guanWang!=i.guanWang&&(u='修改 客户官网 ，由 "'+i.guanWang+'" 变更为 "'+n.guanWang+'"',l.push(u)),n.laiYuan!=i.laiYuan&&(u='修改 客户来源 ，由 "'+i.laiYuan+'" 变更为 "'+n.laiYuan+'"',l.push(u)),n.zycdNum!=i.zycdNum&&(u='修改 重要程度 ，由 "'+i.zycdNum+'" 变更为 "'+n.zycdNum+'"',l.push(u)),n.hangYe!=i.hangYe&&(u='修改 客户行业 ，由 "'+i.hangYe+'" 变更为 "'+n.hangYe+'"',l.push(u)),n.fenJi!=i.fenJi&&(u='修改 客户分级 ，由 "'+i.fenJi+'" 变更为 "'+n.fenJi+'"',l.push(u)),n.xingZhi!=i.xingZhi&&(u='修改 客户性质 ，由 "'+i.xingZhi+'" 变更为 "'+n.xingZhi+'"',l.push(u)),n.type!=i.type&&(u='修改 客户类型 ，由 "'+i.type+'" 变更为 "'+n.type+'"',l.push(u)),n.lxRen!=i.lxRen&&(u='修改 联系人 ，由 "'+i.lxRen+'" 变更为 "'+n.lxRen+'"',l.push(u)),n.fuZeRenId!=i.fuZeRenId&&(u='修改 负责人 ，由 "'+i.fuZeRen+'" 变更为 "'+n.fuZeRen+'"',l.push(u)),n.jieDuan!=i.jieDuan&&(u='修改 客户阶段 ，由 "'+i.jieDuan+'" 变更为 "'+n.jieDuan+'"',l.push(u)),n.address!=i.address&&(u='修改 地址 ，由 "'+i.address+'" 变更为 "'+n.address+'"',l.push(u)),n.region!=i.region&&(u='修改 地区 ，由 "'+i.region+'" 变更为 "'+n.region+'"',l.push(u)),n.phone!=i.phone&&(u='修改 联系方式 ，由 "'+i.phone+'" 变更为 "'+n.phone+'"',l.push(u)),n.clientName!=i.clientName&&(u='修改 客户名称 ，由 "'+i.clientName+'" 变更为 "'+n.clientName+'"',l.push(u)),a.content=l.reverse()}else a.dataId=t,a.type="添加";uni.$czjlApiAddFun(a)},setDataFun:function(){var e=uni.$infoObj;if(n.xgInfoObj=uni.$infoObj,n.clientName=e.clientName,n.phone=e.phone,n.region=e.region,n.address=e.address,n.latitude=e.latitude,n.longitude=e.longitude,n.jieDuan=e.jieDuan,n.fuZeRen=e.fuZeRen,n.fuZeRenId=e.fuZeRenId,n.lxRen=e.lxRen,n.type=e.type,n.xingZhi=e.xingZhi,n.fenJi=e.fenJi,n.hangYe=e.hangYe,n.zycdNum=e.zycdNum,n.laiYuan=e.laiYuan,n.guanWang=e.guanWang,n.jianJie=e.jianJie,n.remark=e.remark,e.region){var t=e.region.split(" ");n.province=t[0],n.city=t[1],n.area=t[2]}}}};t.default=l},"47b7":function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return l})),a.d(t,"a",(function(){return i}));var i={uIcon:a("5ce6").default,uInput:a("a798").default,uPicker:a("31ef").default,uSelect:a("f9bb").default,uRate:a("1ea5").default,uButton:a("b9f7").default},n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",[a("v-uni-view",{staticClass:"btName"},[e._v("基础信息")]),a("v-uni-view",{staticClass:"flex-white-plr26 ptb20 mt32 bdb_f5",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.pickerSelectFun("客户性质")}}},[a("v-uni-text",{staticClass:"mr26"},[e._v("客户性质"),a("v-uni-text",{staticClass:"redXingh"},[e._v("*")])],1),a("v-uni-view",{class:e.xingZhi?"":"cBlack"},[e._v(e._s(e.xingZhi?e.xingZhi:"请选择")),a("u-icon",{staticClass:"ml26",attrs:{name:"arrow-right",size:"40",color:"#888888"}})],1)],1),a("v-uni-view",{staticClass:"flex-white-plr26 ptb10 bdb_f5"},[a("v-uni-text",{staticClass:"mr26"},[a("v-uni-text",[e._v("客户名称")]),a("v-uni-text",{staticClass:"redXingh"},[e._v("*")])],1),a("u-input",{attrs:{placeholder:"请输入客户名称"},model:{value:e.clientName,callback:function(t){e.clientName=t},expression:"clientName"}})],1),"个人客户"!=e.xingZhi?a("v-uni-view",{staticClass:"flex-white-plr26 ptb10 bdb_f5"},[a("v-uni-text",{staticClass:"mr26"},[a("v-uni-text",[e._v("联系人")]),a("v-uni-text",{staticClass:"redXingh"},[e._v("*")])],1),a("u-input",{attrs:{placeholder:"请输入客户联系人"},model:{value:e.lxRen,callback:function(t){e.lxRen=t},expression:"lxRen"}})],1):e._e(),a("v-uni-view",{staticClass:"flex-white-plr26 ptb10 bdb_f5"},[a("v-uni-text",{staticClass:"mr26"},[e._v("联系方式"),a("v-uni-text",{staticClass:"redXingh"},[e._v("*")])],1),a("u-input",{attrs:{placeholder:"请输入联系方式"},model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}})],1),a("v-uni-view",{staticClass:"flex-white-plr26 ptb20 bdb_f5",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.pickerSelectFun("客户来源")}}},[a("v-uni-text",{staticClass:"mr26"},[e._v("客户来源"),a("v-uni-text",{staticClass:"redXingh"},[e._v("*")])],1),a("v-uni-view",{class:e.laiYuan?"":"cBlack"},[e._v(e._s(e.laiYuan?e.laiYuan:"请选择")),a("u-icon",{staticClass:"ml26",attrs:{name:"arrow-right",size:"40",color:"#888888"}})],1)],1),a("v-uni-view",{staticClass:"flex-white-plr26 ptb20 bdb_f5",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.pickerShowFun("地区")}}},[a("v-uni-text",{staticClass:"mr26"},[e._v("地区")]),a("v-uni-view",{class:e.region?"":"cBlack"},[e._v(e._s(e.region?e.region:"请选择")),a("u-icon",{staticClass:"ml26",attrs:{name:"arrow-right",size:"40",color:"#888888"}})],1)],1),a("v-uni-view",{staticClass:"flex-white-plr26 ptb20 bdb_f5",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.chooseAddrFun.apply(void 0,arguments)}}},[a("v-uni-text",{staticClass:"mr26"},[e._v("地址")]),a("v-uni-view",{staticClass:"width276",class:e.address?"blackColor":"cBlack"},[e._v(e._s(e.address?e.address:"请在此选择详细地址"))]),a("u-icon",{staticClass:"ml26",attrs:{name:"map-fill",size:"40",color:"#007aff"}})],1),a("v-uni-view",{staticClass:"flex-white-plr26 ptb20 bdb_f5",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.pickerSelectFun("客户阶段")}}},[a("v-uni-text",{staticClass:"mr26"},[e._v("客户阶段")]),a("v-uni-view",{class:e.jieDuan?"":"cBlack"},[e._v(e._s(e.jieDuan?e.jieDuan:"请选择")),a("u-icon",{staticClass:"ml26",attrs:{name:"arrow-right",size:"40",color:"#888888"}})],1)],1),a("v-uni-view",{staticClass:"flex-white-plr26 ptb20 bdb_f5",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.pickerSelectFun("客户分级")}}},[a("v-uni-text",{staticClass:"mr26"},[e._v("客户分级")]),a("v-uni-view",{class:e.fenJi?"":"cBlack"},[e._v(e._s(e.fenJi?e.fenJi:"请选择")),a("u-icon",{staticClass:"ml26",attrs:{name:"arrow-right",size:"40",color:"#888888"}})],1)],1),a("v-uni-view",{staticClass:"flex-white-plr26 ptb20 bdb_f5",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.pickerSelectFun("客户行业")}}},[a("v-uni-text",{staticClass:"mr26"},[e._v("客户行业")]),a("v-uni-view",{class:e.hangYe?"":"cBlack"},[e._v(e._s(e.hangYe?e.hangYe:"请选择")),a("u-icon",{staticClass:"ml26",attrs:{name:"arrow-right",size:"40",color:"#888888"}})],1)],1),a("u-picker",{attrs:{params:e.pickerParams,"safe-area-inset-bottom":!0,"end-year":"2100",mode:e.pickerMode,"default-time":e.birthday},on:{confirm:function(t){arguments[0]=t=e.$handleEvent(t),e.pickerConfirmFun.apply(void 0,arguments)}},model:{value:e.pickerShow,callback:function(t){e.pickerShow=t},expression:"pickerShow"}}),a("u-select",{attrs:{list:e.selectList},on:{confirm:function(t){arguments[0]=t=e.$handleEvent(t),e.selectConfirmFun.apply(void 0,arguments)}},model:{value:e.selectShow,callback:function(t){e.selectShow=t},expression:"selectShow"}}),a("v-uni-view",{staticClass:"btName"},[e._v("扩展信息")]),a("v-uni-view",{staticClass:"flex-white-plr26 ptb20 bdb_f5 mt32"},[a("v-uni-text",{staticClass:"mr26"},[e._v("重要程度")]),a("u-rate",{attrs:{count:5,"active-color":"#ffaa00",size:"36"},model:{value:e.zycdNum,callback:function(t){e.zycdNum=t},expression:"zycdNum"}})],1),a("v-uni-view",{staticClass:"flex-white-plr26 ptb20 bdb_f5",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.pickerSelectFun("客户类型")}}},[a("v-uni-text",{staticClass:"mr26"},[e._v("客户类型")]),a("v-uni-view",{class:e.type?"":"cBlack"},[e._v(e._s(e.type?e.type:"请选择")),a("u-icon",{staticClass:"ml26",attrs:{name:"arrow-right",size:"40",color:"#888888"}})],1)],1),a("v-uni-view",{staticClass:"flex-white-plr26 ptb10 bdb_f5"},[a("v-uni-text",{staticClass:"mr26"},[e._v("客户官网")]),a("u-input",{attrs:{placeholder:"请输入"},model:{value:e.guanWang,callback:function(t){e.guanWang=t},expression:"guanWang"}})],1),a("v-uni-view",{staticClass:"flex-white-plr26 ptb10 bdb_f5"},[a("v-uni-text",{staticClass:"mr26"},[e._v("客户简介")]),a("u-input",{attrs:{placeholder:"请输入"},model:{value:e.jianJie,callback:function(t){e.jianJie=t},expression:"jianJie"}})],1),a("v-uni-view",{staticClass:"flex-white-plr26 ptb20 mt32"},[a("u-input",{attrs:{placeholder:"备注",maxlength:"500",placeholderStyle:"color: #303133;",type:"textarea"},model:{value:e.remark,callback:function(t){e.remark=t},expression:"remark"}})],1),a("v-uni-view",{staticClass:"submitView"},[a("u-button",{staticClass:"submitBtn",attrs:{type:"primary",ripple:!0,"ripple-bg-color":"#909399"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.submitBtn.apply(void 0,arguments)}}},[e._v(e._s(""==e.pageType?"提交":"保存"))])],1)],1)},l=[]},"63a9":function(e,t,a){var i=a("c86c");t=i(!1),t.push([e.i,"uni-page-body[data-v-1c921836]{background-color:#f8f8f8;padding-bottom:%?260?%}body.?%PAGE?%[data-v-1c921836]{background-color:#f8f8f8}.u-radio[data-v-1c921836]{width:%?200?%!important}",""]),e.exports=t},"7e7b":function(e,t,a){"use strict";var i=a("c42e"),n=a.n(i);n.a},"8ae0":function(e,t,a){var i=a("63a9");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("967d").default;n("9a089724",i,!0,{sourceMap:!1,shadowMode:!1})},"8ddb":function(e,t,a){"use strict";a("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("64aa"),a("1851"),a("aa9c"),a("fd3c");var i={props:{list:{type:Array,default:function(){return[]}},border:{type:Boolean,default:!0},value:{type:Boolean,default:!1},cancelColor:{type:String,default:"#606266"},confirmColor:{type:String,default:"#2979ff"},zIndex:{type:[String,Number],default:0},safeAreaInsetBottom:{type:Boolean,default:!1},maskCloseAble:{type:Boolean,default:!0},defaultValue:{type:Array,default:function(){return[0]}},mode:{type:String,default:"single-column"},valueName:{type:String,default:"value"},labelName:{type:String,default:"label"},childName:{type:String,default:"children"},title:{type:String,default:""},cancelText:{type:String,default:"取消"},confirmText:{type:String,default:"确认"}},data:function(){return{defaultSelector:[0],columnData:[],selectValue:[],lastSelectIndex:[],columnNum:0,moving:!1}},watch:{value:{immediate:!0,handler:function(e){var t=this;e&&setTimeout((function(){return t.init()}),10)}}},computed:{uZIndex:function(){return this.zIndex?this.zIndex:this.$u.zIndex.popup}},methods:{pickstart:function(){},pickend:function(){},init:function(){this.setColumnNum(),this.setDefaultSelector(),this.setColumnData(),this.setSelectValue()},setDefaultSelector:function(){this.defaultSelector=this.defaultValue.length==this.columnNum?this.defaultValue:Array(this.columnNum).fill(0),this.lastSelectIndex=this.$u.deepClone(this.defaultSelector)},setColumnNum:function(){if("single-column"==this.mode)this.columnNum=1;else if("mutil-column"==this.mode)this.columnNum=this.list.length;else if("mutil-column-auto"==this.mode){var e=1,t=this.list;while(t[0][this.childName])t=t[0]?t[0][this.childName]:{},e++;this.columnNum=e}},setColumnData:function(){var e=[];if(this.selectValue=[],"mutil-column-auto"==this.mode)for(var t=this.list[this.defaultSelector.length?this.defaultSelector[0]:0],a=0;a<this.columnNum;a++)0==a?(e[a]=this.list,t=t[this.childName]):(e[a]=t,t=t[this.defaultSelector[a]][this.childName]);else"single-column"==this.mode?e[0]=this.list:e=this.list;this.columnData=e},setSelectValue:function(){for(var e=null,t=0;t<this.columnNum;t++){e=this.columnData[t][this.defaultSelector[t]];var a={value:e?e[this.valueName]:null,label:e?e[this.labelName]:null};e&&e.extra&&(a.extra=e.extra),this.selectValue.push(a)}},columnChange:function(e){var t=this,a=null,i=e.detail.value;if(this.selectValue=[],"mutil-column-auto"==this.mode){this.lastSelectIndex.map((function(e,t){e!=i[t]&&(a=t)})),this.defaultSelector=i;for(var n=a+1;n<this.columnNum;n++)this.columnData[n]=this.columnData[n-1][n-1==a?i[a]:0][this.childName],this.defaultSelector[n]=0;i.map((function(e,a){var n=t.columnData[a][i[a]],l={value:n?n[t.valueName]:null,label:n?n[t.labelName]:null};n&&void 0!==n.extra&&(l.extra=n.extra),t.selectValue.push(l)})),this.lastSelectIndex=i}else if("single-column"==this.mode){var l=this.columnData[0][i[0]],u={value:l?l[this.valueName]:null,label:l?l[this.labelName]:null};l&&void 0!==l.extra&&(u.extra=l.extra),this.selectValue.push(u)}else"mutil-column"==this.mode&&i.map((function(e,a){var n=t.columnData[a][i[a]],l={value:n?n[t.valueName]:null,label:n?n[t.labelName]:null};n&&void 0!==n.extra&&(l.extra=n.extra),t.selectValue.push(l)}))},close:function(){this.$emit("input",!1)},getResult:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e&&this.$emit(e,this.selectValue),this.close()},selectHandler:function(){this.$emit("click")}}};t.default=i},a20bd:function(e,t,a){"use strict";var i=a("8ae0"),n=a.n(i);n.a},b0c3:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return l})),a.d(t,"a",(function(){return i}));var i={uIcon:a("5ce6").default},n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"u-rate",attrs:{id:e.elId},on:{touchmove:function(t){t.stopPropagation(),t.preventDefault(),arguments[0]=t=e.$handleEvent(t),e.touchMove.apply(void 0,arguments)}}},e._l(e.count,(function(t,i){return a("v-uni-view",{key:i,staticClass:"u-star-wrap",class:[e.elClass]},[a("u-icon",{attrs:{name:e.activeIndex>i?e.elActiveIcon:e.inactiveIcon,color:e.activeIndex>i?e.elActiveColor:e.inactiveColor,"custom-style":{fontSize:e.size+"rpx",padding:"0 "+e.gutter/2+"rpx"},"custom-prefix":e.customPrefix,"show-decimal-icon":e.showDecimalIcon(i),percent:e.decimal,"inactive-color":e.inactiveColor},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.click(i+1,t)}}})],1)})),1)},l=[]},c42e:function(e,t,a){var i=a("0311");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("967d").default;n("bb7a5da0",i,!0,{sourceMap:!1,shadowMode:!1})},cf8c:function(e,t,a){"use strict";a.r(t);var i=a("4503"),n=a.n(i);for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);t["default"]=n.a},d400:function(e,t,a){"use strict";var i=a("190e"),n=a.n(i);n.a},ed3f:function(e,t,a){"use strict";a.r(t);var i=a("8ddb"),n=a.n(i);for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);t["default"]=n.a},f9bb:function(e,t,a){"use strict";a.r(t);var i=a("ff2a"),n=a("ed3f");for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);a("d400");var u=a("828b"),s=Object(u["a"])(n["default"],i["b"],i["c"],!1,null,"5e9568b0",null,!1,i["a"],void 0);t["default"]=s.exports},fb2f:function(e,t,a){var i=a("c86c");t=i(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 郑志平\r\n * 2021-12-06\r\n */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.u-select__action[data-v-5e9568b0]{position:relative;line-height:%?70?%;height:%?70?%}.u-select__action__icon[data-v-5e9568b0]{position:absolute;right:%?20?%;top:50%;transition:-webkit-transform .4s;transition:transform .4s;transition:transform .4s,-webkit-transform .4s;-webkit-transform:translateY(-50%);transform:translateY(-50%);z-index:1}.u-select__action__icon--reverse[data-v-5e9568b0]{-webkit-transform:rotate(-180deg) translateY(50%);transform:rotate(-180deg) translateY(50%)}.u-select__hader__title[data-v-5e9568b0]{color:#606266}.u-select--border[data-v-5e9568b0]{border-radius:%?6?%;border-radius:4px;border:1px solid #dcdfe6}.u-select__header[data-v-5e9568b0]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;height:%?80?%;padding:0 %?40?%}.u-select__body[data-v-5e9568b0]{width:100%;height:%?500?%;overflow:hidden;background-color:#fff}.u-select__body__picker-view[data-v-5e9568b0]{height:100%;box-sizing:border-box}.u-select__body__picker-view__item[data-v-5e9568b0]{display:flex;flex-direction:row;align-items:center;justify-content:center;font-size:%?32?%;color:#303133;padding:0 %?8?%}',""]),e.exports=t},ff2a:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return l})),a.d(t,"a",(function(){return i}));var i={uPopup:a("773f").default},n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"u-select"},[a("u-popup",{attrs:{maskCloseAble:e.maskCloseAble,mode:"bottom",popup:!1,length:"auto",safeAreaInsetBottom:e.safeAreaInsetBottom,"z-index":e.uZIndex},on:{close:function(t){arguments[0]=t=e.$handleEvent(t),e.close.apply(void 0,arguments)}},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[a("v-uni-view",{staticClass:"u-select"},[a("v-uni-view",{staticClass:"u-select__header",on:{touchmove:function(t){t.stopPropagation(),t.preventDefault(),arguments[0]=t=e.$handleEvent(t)}}},[a("v-uni-view",{staticClass:"u-select__header__cancel u-select__header__btn",style:{color:e.cancelColor},attrs:{"hover-class":"u-hover-class","hover-stay-time":150},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.getResult("cancel")}}},[e._v(e._s(e.cancelText))]),a("v-uni-view",{staticClass:"u-select__header__title"},[e._v(e._s(e.title))]),a("v-uni-view",{staticClass:"u-select__header__confirm u-select__header__btn",style:{color:e.moving?e.cancelColor:e.confirmColor},attrs:{"hover-class":"u-hover-class","hover-stay-time":150},on:{touchmove:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t)},click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.getResult("confirm")}}},[e._v(e._s(e.confirmText))])],1),a("v-uni-view",{staticClass:"u-select__body"},[a("v-uni-picker-view",{staticClass:"u-select__body__picker-view",attrs:{value:e.defaultSelector},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.columnChange.apply(void 0,arguments)},pickstart:function(t){arguments[0]=t=e.$handleEvent(t),e.pickstart.apply(void 0,arguments)},pickend:function(t){arguments[0]=t=e.$handleEvent(t),e.pickend.apply(void 0,arguments)}}},e._l(e.columnData,(function(t,i){return a("v-uni-picker-view-column",{key:i},e._l(t,(function(t,i){return a("v-uni-view",{key:i,staticClass:"u-select__body__picker-view__item"},[a("v-uni-view",{staticClass:"u-line-1"},[e._v(e._s(t[e.labelName]))])],1)})),1)})),1)],1)],1)],1)],1)},l=[]}}]);